<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1 - Tipo Numbers</title>
    <style>
        #capa {
            width: 50px;
            height: 50px;
            background-color: rgb(240, 101, 101);
            position: absolute;
            bottom: 200px;
        }

        .bala {
            width: 15px;
            height: 15px;
            background-color: rgb(248, 233, 28);
            position: absolute;
            bottom: 200px;
        }

        .boton {
            margin-bottom: 10px;
            width: 300px;
            height: 50px;
        }
    </style>
</head>

<body>
    <div id="capa"></div>

    <script>
        let nave = document.getElementById('capa')

        let bala = document.createElement('div')
        bala.className = 'bala'

        document.addEventListener("mousemove", (eventInfo) => nave.style.left = `${eventInfo.clientX - nave.offsetWidth / 2}px`)

        let canShoot = true
        document.addEventListener("keydown", (eventInfo) => {
            if (eventInfo.key === " " && canShoot) {
                    canShoot = false

                    //Crear bala
                    let bala = document.createElement('div')
                    bala.className = 'bala'
                    document.body.appendChild(bala)

                    //Posicionar bala
                    bala.style.left = `${(nave.offsetLeft + (nave.offsetWidth / 2) - (bala.offsetWidth / 2))}px`
                    bala.style.bottom = parseInt(getComputedStyle(nave).bottom) + nave.offsetHeight + 'px'

                    //Crear movimiento bala
                    let intervalo = setInterval(() => {
                        let currentBottom = parseInt(bala.style.bottom)
                        bala.style.bottom = (currentBottom + 12) + 'px'

                        if (currentBottom > window.innerHeight) {
                            clearInterval(intervalo)
                            bala.remove()
                        }
                    }, 10)

                    //

                   const idTimeoutCanShoot = setTimeout(() => canShoot = true, 150);
            }
        })
    </script>
</body>

</html>